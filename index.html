<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Responsive Bootstrap Dashboard</title>

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body {
    font-family: Arial, sans-serif;
    background-color: #F0F4F8;
}

/* Sidebar */
.sidebar {
    background-color: #4CAF50;
    color: white;
    height: 100vh;
    padding-top: 20px;
}

.sidebar a {
    display: block;
    color: white;
    text-decoration: none;
    padding: 10px 20px;
    transition: background 0.3s;
    border-radius: 5px;
}

.sidebar a:hover {
    background-color: #388E3C;
}

/* Cards */
.card-custom {
    background-color: #81C784;
    color: white;
    border-radius: 8px;
}

/* Alerts */
.alert-custom {
    background-color: #FFC107;
    color: #333;
}

/* Editable Table */
td {
    min-width: 150px;
    cursor: text;
}
td:focus {
    outline: 2px solid #0d6efd;
}
#outputText {
    min-height: 300px;
    white-space: pre-wrap;
    background: #f8f9fa;
    padding: 15px;
    border-radius: 6px;
    border: 1px solid #dee2e6;
}
</style>
</head>
<body>

<!-- Header -->
<nav class="navbar navbar-light bg-white shadow-sm px-4">
    <!-- Hamburger button for small screens -->
    <button class="btn btn-outline-success d-md-none me-3" type="button" data-bs-toggle="collapse" data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle sidebar">
        &#9776; <!-- hamburger icon -->
    </button>

    <a class="navbar-brand d-flex align-items-center" href="#">
        <img src="https://upload.wikimedia.org/wikipedia/commons/4/48/Mang_Inasal.svg" alt="Mang Inasal Logo" height="60" class="me-3">
        <span class="fs-4 text-dark">Dashboard</span>
    </a>
</nav>

<div class="container-fluid">
    <div class="row">
        <!-- Sidebar -->
        <nav id="sidebarMenu" class="col-md-2 collapse d-md-block sidebar">
            <div class="position-sticky">
                <h5 class="px-3">Menu</h5>
                <a href="#">Dashboard</a>
                <a href="#">Analytics</a>
                <a href="#">Reports</a>
                <a href="#">Settings</a>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="col-md-10 ms-sm-auto px-4">
            <div class="row my-4">
                <div class="col-md-4 mb-3">
                    <div class="card card-custom p-3 text-center">
                        <h5>Users</h5>
                        <p class="fs-4">1,234</p>
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <div class="card card-custom p-3 text-center">
                        <h5>Revenue</h5>
                        <p class="fs-4">$12,345</p>
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <div class="card card-custom p-3 text-center">
                        <h5>Sales</h5>
                        <p class="fs-4">567</p>
                    </div>
                </div>
            </div>

            <div class="alert alert-custom my-3">Server load is high!</div>

            <h4 class="mt-4">Excel-like Editable Table</h4>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <table class="table table-bordered" id="editableTable">
                        <tbody>
                            <tr><td contenteditable="true"></td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="col-md-6 mb-3">
                    <div id="outputText" contenteditable="true"></div>
                </div>
            </div>
        </main>
    </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
const table = document.getElementById("editableTable");
const tbody = table.querySelector("tbody");
const output = document.getElementById("outputText");

function buildTableFromClipboard(text) {
    const rows = text.replace(/\r/g,"").split("\n").map(r=>r.split("\t"));
    tbody.innerHTML="";
    rows.forEach(row=>{
        const tr=document.createElement("tr");
        row.forEach(cellText=>{
            const td=document.createElement("td");
            td.contentEditable="true";
            td.innerText=cellText;
            tr.appendChild(td);
        });
        tbody.appendChild(tr);
    });
    ensureEmptyRow();
    updateText();
}

function updateText(){
    let text="";
    tbody.querySelectorAll("tr").forEach(row=>{
        let rowText="";
        row.querySelectorAll("td").forEach((cell,index)=>{
            let cellText=cell.innerText.replace(/\t/g,"");
            if(index>0) rowText+=" ";
            rowText+=cellText;
        });
        text+=rowText+"\n";
    });
    output.textContent=text;
}

function ensureEmptyRow(){
    const rows=tbody.querySelectorAll("tr");
    const lastRow=rows[rows.length-1];
    const hasContent=[...lastRow.cells].some(td=>td.innerText.trim()!=="");
    if(hasContent){
        const tr=document.createElement("tr");
        for(let i=0;i<lastRow.cells.length;i++){
            const td=document.createElement("td");
            td.contentEditable="true";
            tr.appendChild(td);
        }
        tbody.appendChild(tr);
    }
}

table.addEventListener("keydown", e=>{
    const cell=e.target.closest("td");
    if(!cell) return;
    const row=cell.parentElement;
    const rowIndex=[...tbody.rows].indexOf(row);
    const colIndex=[...row.cells].indexOf(cell);
    let targetCell=null;
    switch(e.key){
        case "ArrowRight": e.preventDefault();
            if(!row.cells[colIndex+1]){
                tbody.querySelectorAll("tr").forEach(r=>{
                    const td=document.createElement("td");
                    td.contentEditable="true";
                    r.appendChild(td);
                });
            }
            targetCell=row.cells[colIndex+1];
            break;
        case "ArrowLeft": e.preventDefault(); targetCell=row.cells[colIndex-1]; break;
        case "ArrowDown": e.preventDefault();
            if(!tbody.rows[rowIndex+1]){
                const tr=document.createElement("tr");
                for(let i=0;i<row.cells.length;i++){
                    const td=document.createElement("td");
                    td.contentEditable="true";
                    tr.appendChild(td);
                }
                tbody.appendChild(tr);
            }
            targetCell=tbody.rows[rowIndex+1].cells[colIndex];
            break;
        case "ArrowUp": e.preventDefault();
            if(tbody.rows[rowIndex-1]) targetCell=tbody.rows[rowIndex-1].cells[colIndex];
            break;
    }
    if(targetCell) targetCell.focus();
});

table.addEventListener("paste", e=>{
    const text=e.clipboardData.getData("text");
    if(text.includes("\t")||text.includes("\n")){
        e.preventDefault();
        buildTableFromClipboard(text);
    }
});

table.addEventListener("input", ()=>{
    ensureEmptyRow();
    updateText();
});
</script>

</body>
</html>
